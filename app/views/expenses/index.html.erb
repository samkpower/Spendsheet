<h1>All Expense Entries</h1>

<table class = "table">
	<thead>
    <tr>
      <th class = "span2">Date</th>
      <th class = "span7">Category</th>
      <th>Amount</th>
      <th class = "span2"></th>
    </tr>
	</thead>
	<tbody>
<% total_sum = [] %>
<% @expenses.each do |expense| %>
  <tr>
    <td class = "span2"><%= expense.created_at.strftime(' %b %d / %y') %></td>
    <td class = "span7"><%= expense.category %></td>
    <td><%= number_to_currency(expense.amount) %></td>
    <td class = "span2"><%= link_to 'Remove Entry', expense, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
    <% total_sum.push(expense.amount) %>
<% end%>
  <tr></td>
  <tr>
    <td class = "span2"><strong>Total</strong></td>
    <td class = "span7"></td>
    <% sum = total_sum.inject('+') %>
    <td><strong><%= number_to_currency(sum) %></strong></td>
</tbody>
</table>